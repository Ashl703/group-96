# ECDSA(椭圆曲线数字签名算法)概述

椭圆曲线数字签名算法（ECDSA）是使用椭圆曲线密码（ECC）对数字签名算法（DSA）的模拟。ECDSA于1999年成为ANSI标准，并于2000年成为IEEE和NIST标准。它在1998年既已为ISO所接受，并且包含它的其他一些标准亦在ISO的考虑之中。与普通的离散对数问题（discrete logarithm problem DLP）和大数分解问题（integer factorization problem IFP）不同，椭圆曲线离散对数问题（elliptic curve discrete logarithm problem ECDLP）没有亚指数时间的解决方法。因此椭圆曲线密码的单位比特强度要高于其他公钥体制。<br>
数字签名算法（DSA）在联邦信息处理标准FIPS中有详细论述，称为数字签名标准。它的安全性基于素域上的离散对数问题。椭圆曲线密码（ECC）由Neal Koblitz和Victor Miller于1985年发明。它可以看作是椭圆曲线对先前基于离散对数问题（DLP）的密码系统的模拟，只是群元素由素域中的元素数换为有限域上的椭圆曲线上的点。椭圆曲线密码体制的安全性基于椭圆曲线离散对数问题（ECDLP）的难解性。椭圆曲线离散对数问题远难于离散对数问题，椭圆曲线密码系统的单位比特强度要远高于传统的离散对数系统。因此在使用较短的密钥的情况下，ECC可以达到于DL系统相同的安全级别。这带来的好处就是计算参数更小，密钥更短，运算速度更快，签名也更加短小。因此椭圆曲线密码尤其适用于处理能力、存储空间、带宽及功耗受限的场合。<br>
# ECDSA原理

ECDSA是ECC与DSA的结合，整个签名过程与DSA类似，所不一样的是签名中采取的算法为ECC，最后签名出来的值也是分为r,s。<br>
![image](https://github.com/Ashl703/group-xx/assets/138503504/0c327f04-9c7c-4787-b4f7-29232addd413)

签名过程如下：<br>
* 选择一条椭圆曲线Ep(a,b)，和基点G；
* 选择私有密钥k（k<n，n为G的阶），利用基点G计算公开密钥K=kG；
* 产生一个随机整数r（r<n），计算点R=rG；
* 将原数据和点R的坐标值x,y作为参数，计算SHA1做为hash，即Hash=SHA1(原数据,x,y)；
* 计算s≡r - Hash * k (mod n);
* r和s做为签名值，如果r和s其中一个为0，重新从第3步开始执行;
验证过程如下：<br>
* 接收方在收到消息(m)和签名值(r,s)后，进行以下运算；
* 计算：sG+H(m)P=(x1,y1), r1≡ x1 mod p；
* 验证等式：r1 ≡ r mod p；
* 如果等式成立，接受签名，否则签名无效。


在以太坊中，使用ECDSA（椭圆曲线数字签名算法）从签名中推导出公钥具有重要的应用。

交易验证：当一个交易在以太坊网络中广播时，它包含用发送者的私钥生成的签名。为了验证交易的真实性，网络中的节点需要从签名中推导出与之相关联的公钥。这个过程涉及从签名中恢复公钥的操作。

地址生成：以太坊地址是根据账户关联的公钥生成的。通过从签名中推导公钥，可以生成相应的以太坊地址。这对于识别与特定签名或交易相关联的账户非常重要。

智能合约安全：以太坊网络上的智能合约通常基于签名实现访问控制和权限系统。例如，多重签名钱包要求多方在执行交易之前对其进行签名。通过从提供的签名中推导公钥，合约可以验证所需方的授权。

身份验证：从签名中推导公钥的能力允许在以太坊生态系统中进行身份验证。通过验证用户的签名与其声明的公钥相匹配，其他参与者可以在不需要访问其私钥的情况下确保用户身份的真实性。

离线签名验证：在某些情况下，交易或消息可以在离线状态下进行签名，然后提交到以太坊网络。通过从签名中推导公钥，网络可以验证离线签名的完整性和真实性。

值得注意的是，推导公钥的过程涉及到密码学计算和椭圆曲线操作。为了准确和安全地执行这些计算，使用高效的算法和库。

总体而言，使用ECDSA在以太坊中从签名中推导公钥的能力，为网络内的多个关键功能提供了支持，包括交易验证、地址生成、智能合约安全、身份验证和离线签名验证。
